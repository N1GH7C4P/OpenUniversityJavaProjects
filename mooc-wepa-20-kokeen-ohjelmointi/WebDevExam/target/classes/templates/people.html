<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head lang="en">
        <meta charset="UTF-8" />
        <title>People app</title>
    </head>
    <body>
        <h1>People app</h1>
        <table>
            <tbody>
                <tr th:each="p : ${people}">
                    <td><span th:text="${p.name}"> Name </span></td>
                    <td><span th:text="${p.surname}"> Surname </span></td>
                    <td><a th:href="'/people/' + ${p.id}">Personal page</a></td>
                </tr>
            </tbody>
        </table>
        
        <h1>Add new Person</h1>
        
        <form action="#" th:action="@{/people}" th:object="${person}" method="POST">
            <div>
                <input type="text" th:field="*{name}" placeholder="name" />
                <p th:if="${#fields.hasErrors('name')}" th:errors="*{name}">name error></p>
            </div>

            <div>
                <input type="text" placeholder="surname" th:field="*{surname}" />
                <p th:if="${#fields.hasErrors('surname')}" th:errors="*{surname}">surname error></p>
            </div>

            <button type="submit">Add person</button>
        </form>
    </body>
</html>
